{
  "version": "1.0",
  "scenario": "vn2",
  "containers": [
    {
      "name": "offer-container",
      "properties": {
        "image": "ispirt.azurecr.io/depa-inferencing/azure/bidding-service:prod-4.8.0.0",
        "command": [],
        "environmentVariables": [
        {
          "name": "BIDDING_HEALTHCHECK_PORT",
          "value": ".*",
          "regex": true
        },
        {
          "name": "BIDDING_PORT",
          "value": ".*",
          "regex": true
        },
        {
          "name": "BIDDING_TCMALLOC_BACKGROUND_RELEASE_RATE_BYTES_PER_SECOND",
          "value": ".*",
          "regex": true
        },
        {
          "name": "BIDDING_TCMALLOC_MAX_TOTAL_THREAD_CACHE_BYTES",
          "value": ".*",
          "regex": true
        },
        {
          "name": "BUYER_CODE_FETCH_CONFIG",
          "value": ".*",
          "regex": true
        },
        {
          "name": "EGRESS_SCHEMA_FETCH_CONFIG",
          "value": ".*",
          "regex": true
        },
        {
          "name": "ENABLE_BIDDING_SERVICE_BENCHMARK",
          "value": ".*",
          "regex": true
        },
        {
          "name": "INFERENCE_SIDECAR_RUNTIME_CONFIG",
          "value": ".*",
          "regex": true
        },
        {
          "name": "UDF_NUM_WORKERS",
          "value": ".*",
          "regex": true
        },
        {
          "name": "JS_WORKER_QUEUE_LEN",
          "value": ".*",
          "regex": true
        },
        {
          "name": "SELECTION_KV_SERVER_ADDR",
          "value": ".*",
          "regex": true
        },
        {
          "name": "SELECTION_KV_SERVER_EGRESS_TLS",
          "value": ".*",
          "regex": true
        },
        {
          "name": "SELECTION_KV_SERVER_TIMEOUT_MS",
          "value": ".*",
          "regex": true
        },
        {
          "name": "TEE_AD_RETRIEVAL_KV_SERVER_GRPC_ARG_DEFAULT_AUTHORITY",
          "value": ".*",
          "regex": true
        },
        {
          "name": "TEE_KV_SERVER_GRPC_ARG_DEFAULT_AUTHORITY",
          "value": ".*",
          "regex": true
        },
        {
          "name": "AZURE_BA_PARAM_GET_TOKEN_URL",
          "value": ".*",
          "regex": true
        },
        {
          "name": "AZURE_BA_PARAM_KMS_UNWRAP_URL",
          "value": "https://depa-inferencing-kms.centralindia.cloudapp.azure.com/app/unwrapKey?fmt=tink"
        },
        {
          "name": "ENABLE_PROTECTED_AUDIENCE",
          "value": ".*",
          "regex": true
        },
        {
          "name": "KEY_REFRESH_FLOW_RUN_FREQUENCY_SECONDS",
          "value": ".*",
          "regex": true
        },
        {
          "name": "PRIMARY_COORDINATOR_ACCOUNT_IDENTITY",
          "value": ".*",
          "regex": true
        },
        {
          "name": "PRIMARY_COORDINATOR_PRIVATE_KEY_ENDPOINT",
          "value": "https://depa-inferencing-kms.centralindia.cloudapp.azure.com/app/key?fmt=tink"
        },
        {
          "name": "PRIMARY_COORDINATOR_REGION",
          "value": ".*",
          "regex": true
        },
        {
          "name": "PRIVATE_KEY_CACHE_TTL_SECONDS",
          "value": ".*",
          "regex": true
        },
        {
          "name": "PUBLIC_KEY_ENDPOINT",
          "value": "https://depa-inferencing-kms.centralindia.cloudapp.azure.com/app/listpubkeys"
        },
        {
          "name": "SFE_PUBLIC_KEYS_ENDPOINTS",
          "value": "{\"AZURE\":\"https://depa-inferencing-kms.centralindia.cloudapp.azure.com/app/listpubkeys\"}"
        },
        {
          "name": "TEST_MODE",
          "value": "false"
        },
        {
          "name": "TELEMETRY_CONFIG",
          "value": ".*",
          "regex": true
        },
        {
          "name": "COLLECTOR_ENDPOINT",
          "value": ".*",
          "regex": true
        },
        {
          "name": "BUYER_EGRESS_TLS",
          "value": ".*",
          "regex": true
        },
        {
          "name": "CONSENTED_DEBUG_TOKEN",
          "value": ".*",
          "regex": true
        },
        {
          "name": "ENABLE_AUCTION_COMPRESSION",
          "value": ".*",
          "regex": true
        },
        {
          "name": "ENABLE_BUYER_COMPRESSION",
          "value": ".*",
          "regex": true
        },
        {
          "name": "ENABLE_CHAFFING",
          "value": ".*",
          "regex": true
        },
        {
          "name": "ENABLE_OTEL_BASED_LOGGING",
          "value": ".*",
          "regex": true
        },
        {
          "name": "ENABLE_PROTECTED_APP_SIGNALS",
          "value": ".*",
          "regex": true
        },
        {
          "name": "INFERENCE_MODEL_BUCKET_NAME",
          "value": ".*",
          "regex": true
        },
        {
          "name": "INFERENCE_MODEL_BUCKET_PATHS",
          "value": ".*",
          "regex": true
        },
        {
          "name": "INFERENCE_MODEL_CONFIG_PATH",
          "value": ".*",
          "regex": true
        },
        {
          "name": "INFERENCE_MODEL_FETCH_PERIOD_MS",
          "value": ".*",
          "regex": true
        },
        {
          "name": "INFERENCE_MODEL_LOCAL_PATHS",
          "value": ".*",
          "regex": true
        },
        {
          "name": "INFERENCE_SIDECAR_BINARY_PATH",
          "value": ".*",
          "regex": true
        },
        {
          "name": "K_ANONYMITY_SERVER_ADDR",
          "value": ".*",
          "regex": true
        },
        {
          "name": "K_ANONYMITY_SERVER_TIMEOUT_MS",
          "value": ".*",
          "regex": true
        },
        {
          "name": "KV_SERVER_EGRESS_TLS",
          "value": ".*",
          "regex": true
        },
        {
          "name": "MAX_ALLOWED_SIZE_DEBUG_URL_BYTES",
          "value": ".*",
          "regex": true
        },
        {
          "name": "MAX_ALLOWED_SIZE_ALL_DEBUG_URLS_KB",
          "value": ".*",
          "regex": true
        },
        {
          "name": "PS_VERBOSITY",
          "value": ".*",
          "regex": true
        },
        {
          "name": "ROMA_TIMEOUT_MS",
          "value": ".*",
          "regex": true
        },
        {
          "name": "TEE_AD_RETRIEVAL_KV_SERVER_ADDR",
          "value": ".*",
          "regex": true
        },
        {
          "name": "TEE_KV_SERVER_ADDR",
          "value": ".*",
          "regex": true
        },
        {
          "name": "AD_RETRIEVAL_KV_SERVER_ADDR",
          "value": ".*",
          "regex": true
        },
        {
          "name": "AD_RETRIEVAL_KV_SERVER_EGRESS_TLS",
          "value": ".*",
          "regex": true
        },
        {
          "name": "AD_RETRIEVAL_TIMEOUT_MS",
          "value": ".*",
          "regex": true
        },
        {
          "name": "AZURE_CERT",
          "value": ".*",
          "regex": true
        },
        {
          "name": "AZURE_KEYVAULT_NAME",
          "value": ".*",
          "regex": true
        },
        {
          "name": "ENABLE_ENCRYPTION",
          "value": ".*",
          "regex": true
        },
        {
          "name": "INSTRUMENTATION_KEY",
          "value": ".*",
          "regex": true
        },
        {
          "name": "JS_NUM_WORKERS",
          "value": ".*",
          "regex": true
        }
        ],
        "workingDir": "/app",
        "allowElevated": false,
        "allowStdioAccess": true,
        "allowPrivilegeEscalation": false,
        "user": "1000:1000",
        "capabilities": {
          "add": [],
          "drop": ["ALL"]
        },
        "seccompProfile": "runtime/default",
        "readonlyRootFilesystem": false
      }
    }
  ]
}
